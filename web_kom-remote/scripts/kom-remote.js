require=function t(e,n,i){function s(r,a){if(!n[r]){if(!e[r]){var d="function"==typeof require&&require;if(!a&&d)return d(r,!0);if(o)return o(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[r]={exports:{}};e[r][0].call(f.exports,function(t){var n=e[r][1][t];return s(n?n:t)},f,f.exports,t,e,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)s(i[r]);return s}({1:[function(t,e,n){(function(t){"use strict";!function(e,i){var s="object"==typeof self&&self.self==self&&self||"object"==typeof t&&t.global==t&&t;if("function"==typeof define&&define.amd)define(["jquery"],function(t){return s[e]=i(s,n,t)});else if("undefined"!=typeof n){var o;try{o="undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null}catch(r){}n=i(s,o)}else s[e]=i(s,s.jQuery||s.Zepto||s.ender||s.$)}("Joystick",function(t,e,n){function i(t){return Math.pow(t,2)*(t?0>t?-1:1:0)}function s(t){return t.type.indexOf("touch")>-1&&(t.clientX=(t.originalEvent||t).touches[0].clientX,t.clientY=(t.originalEvent||t).touches[0].clientY),t}function o(t,e){return t.split(" ").join("."+e+" ").replace(new RegExp("."+e+"$"),"")+"."+e}function r(t,n){this.$element=t,this.settings=e.extend({},d,n),this.events={start:o(this.settings.events.start,a),move:o(this.settings.events.move,a),end:o(this.settings.events.end,a)},this.init()}var a="joystick",d={radiusMax:50,events:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend touchcancel"}},u=e(document);return u[0].addEventListener("touchstart",function(){}),r.prototype.init=function(){return this.$element.off(this.events.start).on(this.events.start,e.proxy(r.prototype.onstart,this)),this},r.prototype.destroy=function(){this.$element.off(this.events.start),u.off(this.events.end+" "+this.events.move)},r.prototype.move=function(t,e){var n=Math.sqrt(t*t+e*e);if(n>this.settings.radiusMax){var i=t/n,s=e/n;t=Math.round(i*this.settings.radiusMax),e=Math.round(s*this.settings.radiusMax)}return this.$element.css("transform","translate("+t+"px,"+e+"px)"),this.trigger(t,e),this},r.prototype.trigger=function(t,e){var n=new CustomEvent(a+":move",{bubbles:!0,detail:{x:t,y:e,ratioX:Math.round(i(t)/i(this.settings.radiusMax)*100)/100,ratioY:Math.round(i(e)/i(this.settings.radiusMax)*100)/100}});this.$element[0].dispatchEvent(n)},r.prototype.onstart=function(t){s(t),this.position={x:t.clientX,y:t.clientY},this.$element.css("transition","0s"),u.off(this.events.move+" "+this.events.end).on(this.events.move,e.proxy(r.prototype.onmove,this)).on(this.events.end,e.proxy(r.prototype.onend,this))},r.prototype.onmove=function(t){s(t);var e=t.clientX-this.position.x,n=t.clientY-this.position.y;this.move(e,n)},r.prototype.onend=function(){u.off(this.events.move+" "+this.events.end),this.$element.css("transition",""),this.move(0,0)},e.fn[a]=function(t){return this.each(function(){var n=e(this);e.data(n,"plugin_"+a)||e.data(n,"plugin_"+a,new r(n,t))})},r})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){(function(t){"use strict";!function(e,i){var s="object"==typeof self&&self.self==self&&self||"object"==typeof t&&t.global==t&&t;if("function"==typeof define&&define.amd)define(["jquery"],function(t){return s[e]=i(s,n,t)});else if("undefined"!=typeof n){var o;try{o="undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null}catch(r){}n=i(s,o)}else s[e]=i(s,s.jQuery||s.Zepto||s.ender||s.$)}("Pad",function(t,e,n){function i(t,e){return t.split(" ").join("."+e+" ").replace(new RegExp("."+e+"$"),"")+"."+e}function s(t,n){this.$element=t,this.settings=e.extend({},r,n),this.events={start:i(this.settings.events.start,o),end:i(this.settings.events.end,o)},this.init()}var o="pad",r={events:{start:"mousedown touchstart",end:"mouseup touchend touchcancel"}},a=e(document);return s.prototype.init=function(){return this.$element.off(this.events.start,".pad-arrow").on(this.events.start,".pad-arrow",e.proxy(s.prototype.onstart,this)),this},s.prototype.destroy=function(){this.$element.off(this.events.start,".pad-arrow"),a.off(this.events.end)},s.prototype.onstart=function(t){a.off(this.events.end).on(this.events.end,e.proxy(s.prototype.onend,this));var n=e(t.target).data("direction");return this.trigger(n),this},s.prototype.trigger=function(t){var e=new CustomEvent(o+":pressed",{bubbles:!0,detail:{direction:t||"none"}});return this.$element[0].dispatchEvent(e),this},s.prototype.onend=function(){a.off(this.events.end),this.trigger()},e.fn[o]=function(t){return this.each(function(){var n=e(this);e.data(n,"plugin_"+o)||e.data(n,"plugin_"+o,new s(n,t))})},s})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,n){(function(t){"use strict";var n={round:function(t,e){var n=Math.pow(10,e||0);return Math.round(t*n)/n},bound:function(t,e,n){return Math.min(Math.max(t,e),n)},min:function(t,e){var n=Math.min(t,e);return n*=t?t/Math.abs(t):1},extend:function(){for(var t=1;t<arguments.length;t++)for(var e in arguments[t])arguments[t].hasOwnProperty(e)&&(arguments[0][e]=arguments[t][e]);return arguments[0]}},i=n.Animator=function(t){this.interval=t||16,this.id=null};i.prototype.cancel=function(){return this.id&&t.clearTimeout(this.id),this},i.prototype.execute=function(e){this.cancel(),e()!==!1&&(this.id=t.setTimeout(this.execute.bind(this,e),this.interval))},e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"differential-drive":[function(t,e,n){(function(n){"use strict";function i(t){var e=this.settings=s.extend({},o,t);if(!e.transportSession||!e.transportSession.call)throw new Error("options.transportSession is invalid");this.animator=new s.Animator(e.interval),this._set(e.linear,e.radial)}var s=t("./utils.js"),o={linear:0,radial:0,linearMin:-1,linearMax:1,radialMin:-1,radialMax:1,interval:16,acceleration:500,rpcMethodName:"com.kompai2.drive",transportSession:null};i.prototype.getValues=function(){return[this.linear,this.radial].map(function(t){return s.round(t,4)})},i.prototype.update=function(t,e){var n=this._getBoundedUpdate(t,e);this.animator.execute(function(){return n(),this.send(),!!this.linear||!!this.radial}.bind(this))},i.prototype.send=function(){if(n.DEBUG_SAFE||this.settings.transportSession.call(this.settings.rpcMethodName,this.getValues()),n.DEBUG||n.DEBUG_SAFE){var t=this.getValues();console.log("DifferentialDrive [%f, %f]",t[0],t[1])}return this},i.prototype._getBoundedUpdate=function(t,e){var n=(t-this.linear)/(this.settings.acceleration/this.settings.interval),i=(e-this.radial)/(this.settings.acceleration/this.settings.interval);return function(){var s=this.linear+n,o=this.radial+i;return s=(t-s)*(t-this.linear)<=0?t:s,o=(e-o)*(e-this.radial)<=0?e:o,this._set(s,o)}.bind(this)},i.prototype._set=function(t,e){return t=void 0===t||isNaN(e)?this.linear||0:t,e=void 0===t||isNaN(e)?this.radial||0:e,this.linear=s.bound(t,this.settings.linearMin,this.settings.linearMax),this.radial=s.bound(e,this.settings.radialMin,this.settings.radialMax),this},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils.js":3}],"kom-remote":[function(t,e,n){(function(n){"use strict";function i(t){"complete"===document.readyState?t():document.addEventListener("DOMContentLoaded",function(){t()})}var s,o=t("differential-drive");i(function(){s="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null,t("./jquery.joystick.js"),t("./jquery.pad.js")});var r=document.currentScript.ownerDocument.querySelector("#kom-remote"),a=Object.create(HTMLElement.prototype);a.init=function(){this.$element=s(this);var t=this.$shadow=s(this.shadowRoot),e=t.find(".joystick"),n=Math.min(e.innerWidth(),e.outerWidth())/2;return this.$joystick=t.find(".joystick-stick").joystick({radiusMax:n}),this.$pad=t.find(".pad").pad(),this.$switch=t.find("input[name=switch-remote]"),this.$switch.on("change.komremote",this.onswitch.bind(this)),this.ready=!0,this.dispatchEvent(new CustomEvent("ready")),this},a.destroy=function(){return this.$element.off("joystick:move.komremote pad:pressed.komremote"),this.$switch.off("change.komremote"),this.$joystick.data("joystick").destroy(),this.$pad.data("joystick").destroy(),this},a.start=function(t){return this.differentialDrive=new o(t),this.$element.on("joystick:move.komremote",this.onjoystickmove.bind(this)),this.$element.on("pad:pressed.komremote",this.onpadpressed.bind(this)),this},a.onjoystickmove=function(t){var e=t.originalEvent.detail;this.differentialDrive.update(-e.ratioY/2,-e.ratioX)},a.onpadpressed=function(t){switch(t.originalEvent.detail.direction){case"top":this.differentialDrive.update(.2,0);break;case"right":this.differentialDrive.update(0,-.2);break;case"bottom":this.differentialDrive.update(-.2,0);break;case"left":this.differentialDrive.update(0,.2);break;default:this.differentialDrive.update(0,0)}},a.onswitch=function(t){var e=t.target.value;switch(e){case"pad":this.$element.addClass("is-pad");break;case"joystick":default:this.$element.removeClass("is-pad")}return this},a.createdCallback=function(){var t=document.importNode(r.content,!0);return this.createShadowRoot().appendChild(t),i(this.init.bind(this)),this},e.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./jquery.joystick.js":1,"./jquery.pad.js":2,"differential-drive":"differential-drive"}]},{},[]);