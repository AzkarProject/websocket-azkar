<!DOCTYPE HTML>
<html>

<head>
    <script>
    window.onload = function() {
        // Necessity to run this code only after the web page has been loaded.
        var canvas = document.getElementById("myCanvas");
        var context = canvas.getContext("2d");
        var imageObj = new Image();
        // Callback function called by the imageObj.src = .... line
        //located after this function
        imageObj.onload = function() {
            // Draw the image only when we have the guarantee 
            // that it has been loaded
            canvas.width = imageObj.width;
            canvas.height = imageObj.height;
            context.drawImage(imageObj, 0, 0);
        };

        // Calls the imageObj.onload function asynchronously
        imageObj.src = "127.0.0.1:50000/nav/maps/map";
    };
    </script>
</head>

<body>
    <canvas id="myCanvas" width="512" height="512"></canvas>
</body>

</html>
